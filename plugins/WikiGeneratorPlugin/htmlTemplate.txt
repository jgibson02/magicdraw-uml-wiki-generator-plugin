<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
	
	<!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/css/lightbox.min.css" type="text/css" />	
	<style>
		body {
			background: #EFEFF6;
		}

		html, body {
		  height: 100%;
		}

		input[type=checkbox]
		{
		  /* Double-sized Checkboxes */
		  -ms-transform: scale(1.3); /* IE */
		  -moz-transform: scale(1.3); /* FF */
		  -webkit-transform: scale(1.3); /* Safari and Chrome */
		  -o-transform: scale(1.3); /* Opera */
		  padding: 10px;
		}

		.hidden-by-search, .hidden-by-check {
			display: none;
		}

		.navbar-form {
			background: rgba(150, 150, 180, 0.8);
			padding: 0.7em 1em;
			border: 1px solid rgba(0, 0, 0, 0.125);
			border-radius: 0.5em 0.5em 0 0;
			box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
			display: flex;
		}

		.row {
			margin-left: 0;
			margin-right: 0;
		}

		#project-select {
			width: 25%;
		}

		.navbar-form > *:not(:first-child) {
			padding-left: 7px;
		}

		.add-on {
			margin-left:  auto;
			width: auto;
		}

		.add-on .form-control:focus {
			border-color: rgb(92, 179, 253) !important;
		}
		
		#project-name-header {
			color: white;
			vertical-align: middle;
		}
		
		/* Flex Alignments for Navbar */ 
		#filter-list {
			align-self: left;
		}
		#project-name-header {
			align-self: center;
		}
		#search-bar {
			align-self: right;
		}

		#search-btn {
			border: 1px solid rgba(0, 0, 0, 0.125);
			background-clip: padding-box;
		}

		#search-btn:focus {
			outline-color: rgba(0, 0, 0, 0.125) !important;
			border-color: rgba(0, 0, 0, 0.125) !important;
		}

		#search-btn > button:focus {
			border-color: rgba(0, 0, 0, 0.125) !important;
			outline-color: rgba(0, 0, 0, 0.125) !important;
		}

		.card {
		 box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
		 -webkit-transition: .25s box-shadow;
		 transition: .25s box-shadow;
		}
		
		.diagram-card {
			border-radius: 0.5rem;
		}
		
		.card-block {
			padding: 0.9rem 1.25rem;
		}
		
		.card-block p {
			margin-bottom: 0;
		}
		
		.diagram-card:focus, .diagram-card:hover {
		 box-shadow: 0 5px 11px 0 rgba(0, 0, 0, 0.18), 0 4px 30px 0 rgba(0, 0, 0, 0.3);
		}

		.dropdown table:active {
		   color: black;
			 background-color: white;
		}

		.wrapper {
			position: relative;
			background: #CDCDE2;
			margin-top: 3em;
			margin-bottom: 3em;
			border-radius: 0.5em;
			padding: 0 0 1em 0;
			min-width: 675px;
		}

		#filter-list {
			padding-left: 0.5em;
			padding-right: 0.5em;
			padding-top: 0.1em;
			padding-bottom: 0.1em;
			border-collapse: collapse;
		}

		.bottom-border {
			border-bottom: 1px solid rgba(0, 0, 0, 0.3);
			margin-bottom: 0.2em;
		}

		#filter-list tr td {
			padding: 0px 10px 0px 10px;
		}
		
		.tally-count {
			text-align: right;
			font-weight: 500;
		}

		#filter-list tr {
			margin: 0px 10px 0px 10px;
		}

		.add-on .input-group-btn > .btn {
			background-color: white;
		}

		/* stop the glowing blue shadow */
		.add-on .form-control:focus {
		 box-shadow:none;
		 -webkit-box-shadow:none; 
		 border-color:#cccccc; 
		}
		.navbar-nav > li > a {
		  border-right: 1px solid #ddd;
		  padding-bottom: 15px;
		  padding-top: 15px;
		}
		.navbar-nav:last-child{ border-right:0}

		#list-container {
			margin: 10px auto 0 auto;
			padding: 1em;
			width: 80%;
		}

		#list-container > .card-block {
			padding: 1em 1em;
		}

		#list-container > .card .card-img-bottom {
			max-width: 100%;
			width: 100%;
			border-radius: 0 0 0.5rem 0.5rem;
		}

		#list-container > .card:not(:last-child) {
			margin-bottom: 1.5em;
		}

		#filter-list-dropdown {
			border: 1px solid rgba(0, 0, 0, 0.4);
		}

		.no-results-message {
			text-align: center;
			color: rgba(0, 0, 0, 0.6);
			font-weight: bold;
		}

		.dropdown-menu {
			z-index: 100;
		}
	</style>	
	
	<!-- JavaScript -->
    <script>
		function IeVersion() {
			//Set defaults
			var value = {
				IsIE: false,
				TrueVersion: 0,
				ActingVersion: 0,
				CompatibilityMode: false
			};

			//Try to find the Trident version number
			var trident = navigator.userAgent.match(/Trident\/(\d+)/);
			if (trident) {
				value.IsIE = true;
				//Convert from the Trident version number to the IE version number
				value.TrueVersion = parseInt(trident[1], 10) + 4;
			}

			//Try to find the MSIE number
			var msie = navigator.userAgent.match(/MSIE (\d+)/);
			if (msie) {
				value.IsIE = true;
				//Find the IE version number from the user agent string
				value.ActingVersion = parseInt(msie[1]);
			} else {
				//Must be IE 11 in "edge" mode
				value.ActingVersion = value.TrueVersion;
			}

			//If we have both a Trident and MSIE version number, see if they're different
			if (value.IsIE && value.TrueVersion > 0 && value.ActingVersion > 0) {
				//In compatibility mode if the trident number doesn't match up with the MSIE number
				value.CompatibilityMode = value.TrueVersion != value.ActingVersion;
			}
			return value;
		}
		var version = IeVersion();
		if (version.IsIE && version.CompatibilityMode) {
			window.location.href = "https://larced.spstg.jsc.nasa.gov/sites/EDM/seemb/sandbox/SitePages/IE%20Compatibility%20Warning.aspx";
		}
	</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/js/lightbox-plus-jquery.min.js"></script>
    <script>
		var updateTallyCount = function() {
			$("#act-count").text($("input[name='act-check']").is(':checked') ? $(".act:visible").length : "");
			$("#bdd-count").text($("input[name='bdd-check']").is(':checked') ? $(".bdd:visible").length : "");
			$("#ibd-count").text($("input[name='ibd-check']").is(':checked') ? $(".ibd:visible").length : "");
			$("#pkg-count").text($("input[name='pkg-check']").is(':checked') ? $(".pkg:visible").length : "");
			$("#par-count").text($("input[name='par-check']").is(':checked') ? $(".par:visible").length : "");
			$("#req-count").text($("input[name='req-check']").is(':checked') ? $(".req:visible").length : "");
			$("#sd-stm-count").text($("input[name='sd-stm-check']").is(':checked') ? $(".sd:visible").length + $(".stm:visible").length : "");
			$("#uc-count").text($("input[name='uc-check']").is(':checked') ? $(".uc:visible").length : "");
			$("#other-count").text($("input[name='other-check']").is(':checked') ? $(".other:visible").length : "");
		}
		
		var checkResults = function() {
			$(".no-results-message").hide(100);

			// Checkbox logic
			if ($("input[name='act-check']").is(':checked') === false) 
				$(".act").addClass("hidden-by-check");
			else
				$(".act").removeClass("hidden-by-check");
			
			if ($("input[name='bdd-check']").is(':checked') === false) {
				$(".bdd").addClass("hidden-by-check");
			}	else {
				$(".bdd").removeClass("hidden-by-check");
			}
			
			if ($("input[name='ibd-check']").is(':checked') === false) 
				$(".ibd").addClass("hidden-by-check");
			else
				$(".ibd").removeClass("hidden-by-check");
			
			if ($("input[name='pkg-check']").is(':checked') === false) 
				$(".pkg").addClass("hidden-by-check");
			else
				$(".pkg").removeClass("hidden-by-check");
			
			if ($("input[name='par-check']").is(':checked') === false) 
				$(".par").addClass("hidden-by-check");
			else
				$(".par").removeClass("hidden-by-check");
			
			if ($("input[name='req-check']").is(':checked') === false) 
				$(".req").addClass("hidden-by-check");
			else
				$(".req").removeClass("hidden-by-check");
			
			if ($("input[name='sd-stm-check']").is(':checked') === false) {
				$(".sd").addClass("hidden-by-check");
				$(".stm").addClass("hidden-by-check");
			} else {
				$(".sd").removeClass("hidden-by-check");
				$(".stm").removeClass("hidden-by-check");
			}
			
			if ($("input[name='uc-check']").is(':checked') === false) 
				$(".uc").addClass("hidden-by-check");
			else
				$(".uc").removeClass("hidden-by-check");
			
			if ($("input[name='other-check']").is(':checked') === false) 
				$(".other").addClass("hidden-by-check");
			else
				$(".other").removeClass("hidden-by-check");

			updateTallyCount();			
			
			// Search bar logic
			var srchTerm = $("#srch-term").val();
			if (srchTerm.length > 0) {
				var unmatchedElements = $(".diagram-card").has(
					$(".card-title").filter(function(index, element) {
						return $(element).text().toLowerCase().indexOf(srchTerm.toLowerCase()) < 0;
					})
				);

				unmatchedElements.addClass("hidden-by-search");
			} else {
				$(".hidden-by-search").removeClass("hidden-by-search");
			}

			if ($(".diagram-card:visible").length === 0) {
				$(".no-results-message").show(100);
			}
		};

		window.onload = function() {
			$("svg").addClass("card-img-bottom");
			if ($(".diagram-card:visible").length > 0) { 
				$(".no-results-message").hide(); 
			}
			$("input[type='checkbox']:not(input[name='all-check'])").change(checkResults);
			$("input[name='all-check']").change(function() {
				if ($(this).is(":checked")) {
					$("input[type='checkbox']:not(input[name='all-check'])").prop("checked", true);
					checkResults();
				} else {
					$("input[type='checkbox']:not(input[name='all-check'])").prop("checked", false);
					checkResults();
				}
			});
			$("#srch-term").on("input", checkResults);
			updateTallyCount();
			lightbox.option({
				'fadeDuration': 200,
				'resizeDuration': 200
			});
		};
	</script>
	
    <title></title>
</head>
<body>
    <div class="wrapper card col-md-8 offset-md-2">
        <div class="navbar-form row">
            <div class="dropdown btn-group">
                <button id="filter-list-dropdown" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Type (SysML diagram kind)</button>

                <div class="dropdown-menu" aria-labelledby="filter-list-dropdown">
                    <table id="filter-list" class="dropdown-item">
                        <tr class="bottom-border">
                            <td colspan="2">Select All</td>
                            <td><input type="checkbox" name="all-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Process Flow/Flow Chart (act)</td>
							<td id="act-count" class="tally-count"></td>
                            <td><input type="checkbox" name="act-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Architecture/Decomposition (bdd)</td>
							<td id="bdd-count" class="tally-count"></td>
                            <td><input type="checkbox" name="bdd-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Interface (ibd)</td>
							<td id="ibd-count" class="tally-count"></td>
                            <td><input type="checkbox" name="ibd-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Doc Tree/Organization</td>
							<td id="pkg-count" class="tally-count"></td>
                            <td><input type="checkbox" name="pkg-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Parametric (par)</td>
							<td id="par-count" class="tally-count"></td>
                            <td><input type="checkbox" name="par-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Requirement (req)</td>
							<td id="req-count" class="tally-count"></td>
                            <td><input type="checkbox" name="req-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Interaction/System Behavior</td>
							<td id="sd-stm-count" class="tally-count"></td>
                            <td><input type="checkbox" name="sd-stm-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Stakeholder Analysis (uc)</td>
							<td id="uc-count" class="tally-count"></td>
                            <td><input type="checkbox" name="uc-check" checked="checked" /></td>
                        </tr>
                        <tr>
                            <td>Other</td>
							<td id="other-count" class="tally-count"></td>
                            <td><input type="checkbox" name="other-check" checked="checked" /></td>
                        </tr>
                    </table>
                </div>
            </div>
			<!-- <h3 id="project-name-header">{{PROJECT_NAME}}</h3> -->
			<!-- Search Bar -->
            <div id="search-bar" class="input-group add-on">
                <div class="input-group-btn" id="search-btn">
					<button class="btn btn-default"><i class="fa fa-search"></i></button>
				</div>
				<input class="form-control" placeholder="Search" name="srch-term" id="srch-term" type="text" />
            </div>
			<!-- / Search Bar -->
        </div>

        <div id="list-container">
		<!-- ... to be generated by plugin -->